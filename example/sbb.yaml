grids:
    swissgrid:
        resolutions: [750, 500, 250, 100, 50]
        bbox: [420000, 30000, 900000, 350000]
        tile_size: 256
        srs: EPSG:21781

caches:
    local:
        type: filesystem
        http_url: http://taurus/tiles
        folder: /var/www/tiles
    s3:
        type: s3
        http_url: https://%(host)s/%(bucket)s/%(folder)s
        host: s3-eu-west-1.amazonaws.com
        bucket: tiles
        folder: tiles

layer_default:
    grid: swissgrid
    type: mapnik
    mapfile: tilegeneration/sbb.mapnik
    url: http://dev.regiogis-beo.ch/main/wsgi/mapserv_proxy # ${mapserv_url}
    wmts_style: default
    dimensions:
    -   name: VERSION
        default: 1
        value: 1
        values: [1]
    meta: on
    meta_size: 8
    meta_buffer: 0
    data_buffer: 128
    connection: user=www-data password=www-data dbname=sbbgeoportal_c2c host=host
    sql: ST_Union(ST_Buffer(geom, 100, 2)) FROM webapp.verbund_map
    cost:
        # [ms]
        tileonly_generation_time: 60
        # [ms]
        tile_generation_time: 30
        # [ms]
        metatile_generation_time: 30
        # [ko]
        tile_size: 20

layers:
    mapnik:
        output_format: png
        extension: png
        mime_type: image/png
    grid:
        type: mapnik
        mapfile: example/sbb_verbund.mapnik
        output_format: grid
        extension: json
        mime_type: application/utfgrid
        resolution: 4
        meta: off
        layers_fields:
            netzkarte_point:
            - name
            - url_a4
            - url_poster
            - url_shopping

generation:
    default_cache: local
    default_layers: [mapnik, grid]
 #   authorised_user: www-data
    maxconsecutive_errors: 10
    number_process: 8

openlayers:
    srs: EPSG:21781
    center_x: 600000
    center_y: 200000

cost:
    # [nb/month]
    request_per_layers: 10000000
    # GeoData size [Go]
    esb_size: 100

sns:
    topic: arn:aws:sns:eu-west-1:your-account-id:tilecloud

mapcache:
    # The WMS server to cache [required]
    
    mapserver_url: http://${vars:host}/${vars:instanceid}/mapserv
    # The URL of the cache server [required]
    mapcache_url: /${vars:instanceid}/mapcache
    # The generated config file [default to apache/mapcache.xml.in]
    config_file: apache/mapcache.xml.in

    # The resolutions to used by mapcache
    resolutions: [750, 500, 250, 100, 50, 10, 5, 2, 1]
    
    # The memcache host and port [default to localhost / 11211]
    memcache_host: localhost
    memcache_port: 11211
    # Layers to cache [required]
    layers: [mapnik, grid]

